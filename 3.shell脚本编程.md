# shell脚本编程

1. shell变量

```shell
# !/bin/bash
#1 设置变量
var=100
echo var=$var
echo "var=$var"
#2 销毁变量
unset var
#3 设置静态变量
readonly static_var="readonly var"
#unset static_var 报错, 不可修改
#4 将指令的结果赋值给变量
DATE=`date`
Date=$(date)
#5 设置环境变量
export global_val="this is a global val"
#6 设置位置参数变量
echo $0 $1 $2 $3 $4 $5 $6 $7 $8 $9 ${10} ${11} ${12}
echo $* #所有参数
echo $# #参数个数
echo $$ #当前进程号
echo $! #后台运行的最后一个进程号
echo $? #最后一次执行的返回值
#7 数组
array=(1 2 3 4 5)
echo ${array[0]}
echo ${array[@]} # 所有元素
echo ${#array[@]} # 元素个数
echo ${#array[0]} # 元素长度
#8 字符串
str="hello world"
echo ${str:1:4} # 从第二个字符开始截取4个字符
echo `expr index "$str" wo` # 查找字符w或o的位置
#9 字符串拼接
str1="hello"
str2="world"
str3=$str1$str2
str3=$str1+$str2
str3="$str1 $str2"
str3=$str1" "$str2
#10 字符串替换
str="hello world"
echo ${str/world/earth} # 将第一个world替换为earth
echo ${str//l/L} # 将所有l替换为L
#11 字符串删除
str="hello world"
echo ${str#*l} # 删除第一个l及其左边的字符
echo ${str##*l} # 删除最后一个l及其左边的字符
echo ${str%l*} # 删除最后一个l及其右边的字符
echo ${str%%l*} # 删除第一个l及其右边的字符
#12 字符串截取
str="hello world"
echo ${str:1:4} # 从第二个字符开始截取4个字符
#13 字符串长度
str="hello world"
echo ${#str}
#14 字符串查找
str="hello world"
echo `expr index "$str" wo` # 查找字符w或o的位置
#15 字符串分割
str="hello world"
IFS=" "
array=($str)
echo ${array[0]}
echo ${array[1]}
```

